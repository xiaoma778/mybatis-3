<?xml version="1.0" encoding="UTF-8" ?>
<!--

       Copyright 2009-2016 the original author or authors.

       Licensed under the Apache License, Version 2.0 (the "License");
       you may not use this file except in compliance with the License.
       You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

       Unless required by applicable law or agreed to in writing, software
       distributed under the License is distributed on an "AS IS" BASIS,
       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       See the License for the specific language governing permissions and
       limitations under the License.

-->
<!DOCTYPE configuration
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd">

<configuration>
    <!-- 有 resource、url 两中属性，二者互斥，只可配其一，否则抛错 -->
    <properties resource="org/apache/ibatis/databases/blog/blog-derby.properties"/>

    <settings>
        <setting name="cacheEnabled" value="true"/>
        <setting name="lazyLoadingEnabled" value="false"/>
        <setting name="multipleResultSetsEnabled" value="true"/>
        <setting name="useColumnLabel" value="true"/>
        <setting name="useGeneratedKeys" value="false"/>
        <setting name="defaultExecutorType" value="SIMPLE"/>
        <setting name="defaultStatementTimeout" value="25"/>
        <!--    ResultSetHandler在绑定 ResultSet 到 ResultMap 指定的类对象信息时，是否将null值也绑定到对应的属性上。参见 DefaultResultSetHandler 类 645 769 行代码    -->
<!--        <setting name="callSettersOnNulls" value="true"/>-->

<!--        <setting name="vfsImpl" value=""/>-->
<!--        <setting name="logImpl" value=""/>-->
    </settings>

    <!-- 设置类别名和类信息，当后面在解析 Mapper 文件时就可以直接找到对应关系，不设置也没关系，到时候会根据类名信息直接加载类信息的 -->
    <typeAliases>
        <typeAlias alias="Author" type="org.apache.ibatis.domain.blog.Author"/>
        <typeAlias alias="Blog" type="org.apache.ibatis.domain.blog.Blog"/>
        <typeAlias alias="Comment" type="org.apache.ibatis.domain.blog.Comment"/>
        <typeAlias alias="Post" type="org.apache.ibatis.domain.blog.Post"/>
        <typeAlias alias="Section" type="org.apache.ibatis.domain.blog.Section"/>
        <typeAlias alias="Tag" type="org.apache.ibatis.domain.blog.Tag"/>
<!--        加载指定包下的所有的类，并为指定类的子类添加别名 -->
<!--        <package name=""/>-->
    </typeAliases>

    <typeHandlers>
        <typeHandler javaType="String" jdbcType="VARCHAR" handler="org.apache.ibatis.builder.CustomStringTypeHandler"/>
    </typeHandlers>

    <objectFactory type="org.apache.ibatis.builder.ExampleObjectFactory">
        <property name="objectFactoryProperty" value="100"/>
    </objectFactory>

    <plugins>
        <plugin interceptor="org.apache.ibatis.builder.ExamplePlugin">
            <property name="pluginProperty" value="100"/>
        </plugin>
    </plugins>

    <environments default="development">
        <environment id="development">
            <transactionManager type="JDBC">
                <property name="" value=""/>
            </transactionManager>
            <dataSource type="UNPOOLED">
                <property name="driver" value="${driver}"/>
                <property name="url" value="${url}"/>
                <property name="username" value="${username}"/>
                <property name="password" value="${password}"/>
            </dataSource>
        </environment>
<!--        可以根据不同环境设置多个 environment 节点，通过 environments 根节点的 default 配置来指定具体哪个 id 节点生效-->
<!--        <environment id="stage">-->
<!--            <transactionManager type=""></transactionManager>-->
<!--            <dataSource type=""></dataSource>-->
<!--        </environment>-->
<!--        <environment id="prod">-->
<!--            <transactionManager type=""></transactionManager>-->
<!--            <dataSource type=""></dataSource>-->
<!--        </environment>-->
    </environments>

    <mappers>
        <mapper resource="org/apache/ibatis/builder/AuthorMapper.xml"/>
        <mapper resource="org/apache/ibatis/builder/BlogMapper.xml"/>
        <mapper resource="org/apache/ibatis/builder/CachedAuthorMapper.xml"/>
        <mapper resource="org/apache/ibatis/builder/PostMapper.xml"/>
        <mapper resource="org/apache/ibatis/builder/NestedBlogMapper.xml"/>
    </mappers>

</configuration>
